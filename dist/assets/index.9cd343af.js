import e from"https://cdn.skypack.dev/gsap";import*as t from"https://unpkg.com/three@0.126.1/build/three.module.js";import{OrbitControls as o}from"https://unpkg.com/three@0.126.1/examples/jsm/controls/OrbitControls.js";import"https://cdn.skypack.dev/dat.gui";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(o){const n=new URL(e,location),s=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((o,i)=>{const r=new URL(e,n);if(self[t].moduleMap[r])return o(self[t].moduleMap[r]);const a=new Blob([`import * as m from '${r}';`,`${t}.moduleMap['${r}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(a),onerror(){i(new Error(`Failed to import: ${e}`)),s(c)},onload(){o(self[t].moduleMap[r]),s(c)}});document.head.appendChild(c)})),self[t].moduleMap={}}}("/assets/");const n={width:400,height:400,widthSegments:50,heightSegments:50};const s=new t.Raycaster,i=new t.Scene,r=new t.PerspectiveCamera(75,innerWidth/innerHeight,.1,1e3),a=new t.WebGLRenderer;a.setSize(innerWidth,innerHeight),a.setPixelRatio(devicePixelRatio),document.body.appendChild(a.domElement),new o(r,a.domElement),r.position.z=50;const c=new t.PlaneGeometry(n.width,n.height,n.widthSegments,n.heightSegments),d=new t.MeshPhongMaterial({side:t.DoubleSide,flatShading:t.FlatShading,vertexColors:!0}),m=new t.Mesh(c,d);i.add(m),function(){m.geometry.dispose(),m.geometry=new t.PlaneGeometry(n.width,n.height,n.widthSegments,n.heightSegments);const{array:e}=m.geometry.attributes.position,o=[];for(let t=0;t<e.length;t++){if(t%3==0){const o=e[t],n=e[t+1],s=e[t+2];e[t]=o+3*(Math.random()-.5),e[t+1]=n+3*(Math.random()-.5),e[t+2]=s+3*Math.random()}o.push(Math.random()*Math.PI*2)}m.geometry.attributes.position.randomValues=o,m.geometry.attributes.position.originalPosition=m.geometry.attributes.position.array;const s=[];for(let t=0;t<m.geometry.attributes.position.count;t++)s.push(0,.19,.4);m.geometry.setAttribute("color",new t.BufferAttribute(new Float32Array(s),3))}();const h=new t.DirectionalLight(16777215,1);h.position.set(0,-1,1),i.add(h);const l=new t.DirectionalLight(16777215,1);l.position.set(0,0,-1),i.add(l);const p={x:void 0,y:void 0};let g=0;a.render(i,r),function t(){requestAnimationFrame(t),a.render(i,r),s.setFromCamera(p,r),g+=.01;const{array:o,originalPosition:n,randomValues:c}=m.geometry.attributes.position;for(let e=0;e<o.length;e+=3)o[e]=n[e]+.01*Math.cos(g+c[e]),o[e+1]=n[e+1]+.001*Math.sin(g+c[e+1]);m.geometry.attributes.position.needsUpdate=!0;const d=s.intersectObject(m);if(d.length>0){const{color:t}=d[0].object.geometry.attributes;t.setX(d[0].face.a,.1),t.setY(d[0].face.b,.5),t.setZ(d[0].face.b,1),t.setX(d[0].face.c,.1),t.setY(d[0].face.c,.5),t.setZ(d[0].face.c,1),t.setX(d[0].face.c,.1),t.setY(d[0].face.c,.5),t.setZ(d[0].face.c,1),t.needsUpdate=!0;const o={r:0,g:.19,b:.4},n={r:.1,g:.5,b:1};e.to(n,{r:o.r,g:o.g,b:o.b,duration:1,onUpdate:()=>{t.setX(d[0].face.a,n.r),t.setY(d[0].face.a,n.g),t.setZ(d[0].face.a,n.b),t.setX(d[0].face.b,n.r),t.setY(d[0].face.b,n.g),t.setZ(d[0].face.b,n.b),t.setX(d[0].face.c,n.r),t.setY(d[0].face.c,n.g),t.setZ(d[0].face.c,n.b),t.needsUpdate=!0}})}}(),addEventListener("mousemove",(e=>{p.x=e.clientX/innerWidth*2-1,p.y=-e.clientY/innerHeight*2+1}));
